<!DOCTYPE html>
<html>
<head>
    <title>SignalR Simple Chat</title>
    <style type="text/css">
         .Title{
          color: blue;
          font-family:Courier New;
        }
        .container {
            background-color: paleturquoise;
            border: thick solid #808080;
            padding: 20px;
            margin: 20px;
        }
        .btn {
            background-color: gold;
            color: white;
            padding: 9px 30px;
            text-align: center;
            text-decoration: none;
            display: inline-block;
            font-size: 12px;
            margin: 4px 2px;
            cursor: pointer;
            border-radius: 25%;
            -webkit-transition-duration: 0.2s;
            transition-duration: 0.2s;
            border: 2px double ghostwhite;
        }

    .btn:hover {
     background-color: mediumturquoise; /* Green */
     color: white;
    }
    
    .chatbox{
      padding: 30px 50px;
      background-color: white;
      border: 2px solid black;
    }

    .input{
      background-color: white;
      padding: 10px 50px;
    }

    .extra{
      background-color: mistyrose;
      padding: 5px 10px;
    }
    </style>
</head>
<body>
    <h1 class="Title"> Chatogther<img src="images/chaticon.png" width="50"/></h1>

   




    <div class="container">

        <ul class="chatbox" id="discussion"></ul>
      <div class="extra">
            <select id="TEXTFACE">
                <option value="0">( ͡° ͜ʖ ͡°)</option>
                <option value="1">♪</option>
                <option value="2">•◡•</option>
                <option value="3">ಥ_ಥ</option>
                <option value="4">¬_¬</option>
                <option value="5">˘⌣˘</option>
                <option value="6">♥‿♥</option>
                <option value="7">o_O??</option>
                <option value="8">(づ￣ ³￣)づ</option>
                <option value="9">ᕙ(⇀‸↼‶)ᕗ</option>
                <option value="10">( ⚆ _ ⚆ )</option>
                <option value="11">•̪ ●</option>
                <option value="12">(⊙︿⊙✿)</option>
                <option value="13">(￣。￣)～ｚｚｚ</option>
                <option value="14">(ﾉ◕ヮ◕)ﾉ*:･ﾟ✧</option>
                <option value="15">$_$</option>
                

            </select>
            <input type="button" id="emoji" value="Text Emoji" />
            
            <select id="ROCKPAPERSCISSORS">
                <option value="0">Rock</option>
                <option value="1">Paper</option>
                <option value="2">Scissor</option>
            </select>
            <input type="button" id="playrps" value="Play Rock-Paper-Scissors" />

            <select id="TRIVIAGAME">
                <option value="0">General Trivia</option>
                <option value="1">Geography Trivia</option>
                <option value="2">Harry Potter Trivia</option>
            </select>
            <input type="button" id="playNewTrivia" value="Play Trivia Game" />

            <input type="button" id="playNewHangman" value="Start New Hangman Game" />
          
      </div>
      <div class="input">
          <input style="width:75%; font-size:20px;" type="text" id="message" />
          <input style="width:20%;" class="btn" type="button" id="sendmessage" value="Send" />
          
          <input style="width:75%; font-size:20px;" type="text" id="hangmanAnswer" />
          <input style="width:23%;" class="btn" type="button" id="sendHangmanAnswer" value="Send Hangman Answer" />

          <input style="width:75%; font-size:20px;" type="text" id="triviaAnswer" />
          <input style="width:23%;" class="btn" type="button" id="sendTriviaAnswer" value="Send Trivia Answer" />

          <input type="hidden" id="displayname" />
      </div>
    <!--Script references. -->
    <!--Reference the jQuery library. -->
    <script src="Scripts/jquery-3.3.1.min.js"></script>
    <!--Reference the SignalR library. -->
    <script src="Scripts/jquery.signalR-2.2.2.min.js"></script>
    <!--Reference the autogenerated SignalR hub script. -->
    <script src="signalr/hubs"></script>
    <!--Add script to update the page and send messages.-->
    <script type="text/javascript">

        $(function () {
            // Declare a proxy to reference the hub.
            var chat = $.connection.chatHub;
            // Create a function that the hub can call to broadcast messages, taking name and message as parameters.
            chat.client.broadcastMessage = function (name, message) 
            {

                // Html encode display name and message.
                var encodedName = $('<div />').text(name).html();
                debugger;
                var encodedMsg = $('<div />').text(message).html().replace(/ /g, '&nbsp;&nbsp;');
                // Add the message to the page.
                $('#discussion').append('<li><strong>' + encodedName
                    + '</strong>:&nbsp;&nbsp;' + encodedMsg + '</li>');
            };

            // Create a function that the hub can call to broadcast messages, taking message as the parameter.  
            chat.client.broadcastMessage2 = function (message)
            {
                // Html encode display message.
                var encodeMsg = $('<div />').text(message).html();
                // Add the message to the page.
                $('#discussion').append('<li><strong>' + encodeMsg + '</li>');
            };






            // Get the user name and store it to prepend to messages.
            $('#displayname').val(prompt('Enter your name:', ''));




            // Set initial focus to message input box.
            $('#message').focus();
            // Start the connection.
            $.connection.hub.start().done(function () 
            {
                $('#sendmessage').click(function () 
                {
                    // Call the Send method on the hub.
                    chat.server.send($('#displayname').val(), $('#message').val());//uses the send method
                    //this is a random method for practice: chat.server.doesMessageWork($('#message').val());

                    // Clear text box and reset focus for next comment.
                    $('#message').val('').focus();
                });

                $('#playNewTrivia').click(function () 
                {
                    // if you click the #sendTriviaAnswer button, then call the TriviaGame method on the hub.
                    chat.server.newTriviaGame ($('#TRIVIAGAME').val());//uses the newTriviaGame method and send random trivia questions.
                });

                $('#sendTriviaAnswer').click(function () 
                {
                    // if you click the #sendTriviaAnswer button, then call the TriviaGame method on the hub.
                    chat.server.triviaGame($('#displayname').val(), $('#triviaAnswer').val());//uses the triviaGame method
                     $('#triviaAnswer').val('').focus();
                });
            

                //MAKE A START A NEW HANGMAN GAME BUTTOn and replace the sendHangmanAnswer with the new button's id

                 $('#playNewHangman').click(function () {
                     chat.server.newHangmanGame();//uses the newHangmanGame method

                });

                $('#sendHangmanAnswer').click(function () {
                    chat.server.send($('#displayname').val(), $('#hangmanAnswer').val());
                    chat.server.hangman($('#displayname').val(), $('#hangmanAnswer').val());//uses the newHangmanGame method
                    $('#hangmanAnswer').val('').focus();
                });


                $('#emoji').click(function () {
                    chat.server.textEmoji($('#displayname').val(), $('#TEXTFACE').val());
                });

                $('#playrps').click(function () {
                    chat.server.rockPaperScissor($('#displayname').val(), $('#ROCKPAPERSCISSORS').val());
                });

               

            });

                $('#message').keypress(function (key) { if (key.keyCode == 13) { $('#sendmessage').click(); $('#message').text(''); } });
                $('#hangmanAnswer').keypress(function (key) { if (key.keyCode == 13) { $('#sendHangmanAnswer').click(); $('#hangmanAnswer').text(''); } });
                $('#triviaAnswer').keypress(function (key) { if (key.keyCode == 13) { $('#sendTriviaAnswer').click(); $('#triviaAnswer').text(''); } });
        });
    </script>
</body>
</html>